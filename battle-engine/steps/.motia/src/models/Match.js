import mongoose, { Schema } from "mongoose";
const MatchSchema = new Schema({
  matchId: { type: String, required: true, unique: true },
  players: [{ type: String }],
  status: {
    type: String,
    enum: ["WAITING", "RACING", "FINISHED", "EXPIRED"],
    default: "WAITING"
  },
  problemId: { type: String, default: "two-sum" },
  winnerId: { type: String },
  startTime: { type: Number },
  duration: { type: Number, default: 3e5 },
  // Default 5 mins (300,000 ms)
  endTime: { type: Number }
}, { timestamps: true });
const MatchModel = mongoose.models.Match || mongoose.model("Match", MatchSchema);
export {
  MatchModel
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vc3JjL21vZGVscy9NYXRjaC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElNYXRjaCBleHRlbmRzIERvY3VtZW50IHtcclxuICBtYXRjaElkOiBzdHJpbmc7XHJcbiAgcGxheWVyczogc3RyaW5nW107XHJcbiAgc3RhdHVzOiAnV0FJVElORycgfCAnUkFDSU5HJyB8ICdGSU5JU0hFRCcgfCAnRVhQSVJFRCc7XHJcbiAgcHJvYmxlbUlkOiBzdHJpbmc7XHJcbiAgd2lubmVySWQ/OiBzdHJpbmc7XHJcbiAgc3RhcnRUaW1lPzogbnVtYmVyO1xyXG4gIGR1cmF0aW9uOiBudW1iZXI7IC8vIER1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gIGVuZFRpbWU/OiBudW1iZXI7IC8vIEV4YWN0IHRpbWVzdGFtcCB3aGVuIHRoZSBtYXRjaCBlbmRzXHJcbn1cclxuXHJcbmNvbnN0IE1hdGNoU2NoZW1hID0gbmV3IFNjaGVtYTxJTWF0Y2g+KHtcclxuICBtYXRjaElkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxyXG4gIHBsYXllcnM6IFt7IHR5cGU6IFN0cmluZyB9XSxcclxuICBzdGF0dXM6IHsgXHJcbiAgICAgIHR5cGU6IFN0cmluZywgXHJcbiAgICAgIGVudW06IFsnV0FJVElORycsICdSQUNJTkcnLCAnRklOSVNIRUQnLCAnRVhQSVJFRCddLCBcclxuICAgICAgZGVmYXVsdDogJ1dBSVRJTkcnIFxyXG4gIH0sXHJcbiAgcHJvYmxlbUlkOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ3R3by1zdW0nIH0sXHJcbiAgd2lubmVySWQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgc3RhcnRUaW1lOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gIGR1cmF0aW9uOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMzAwMDAwIH0sIC8vIERlZmF1bHQgNSBtaW5zICgzMDAsMDAwIG1zKVxyXG4gIGVuZFRpbWU6IHsgdHlwZTogTnVtYmVyIH1cclxufSwgeyB0aW1lc3RhbXBzOiB0cnVlIH0pO1xyXG5cclxuLy8gUHJldmVudCBvdmVyd3JpdGUgZHVyaW5nIGhvdC1yZWxvYWRcclxuZXhwb3J0IGNvbnN0IE1hdGNoTW9kZWwgPSBtb25nb29zZS5tb2RlbHMuTWF0Y2ggfHwgbW9uZ29vc2UubW9kZWw8SU1hdGNoPignTWF0Y2gnLCBNYXRjaFNjaGVtYSk7Il0sCiAgIm1hcHBpbmdzIjogIkFBQUEsT0FBTyxZQUFZLGNBQXdCO0FBYTNDLE1BQU0sY0FBYyxJQUFJLE9BQWU7QUFBQSxFQUNyQyxTQUFTLEVBQUUsTUFBTSxRQUFRLFVBQVUsTUFBTSxRQUFRLEtBQUs7QUFBQSxFQUN0RCxTQUFTLENBQUMsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLEVBQzFCLFFBQVE7QUFBQSxJQUNKLE1BQU07QUFBQSxJQUNOLE1BQU0sQ0FBQyxXQUFXLFVBQVUsWUFBWSxTQUFTO0FBQUEsSUFDakQsU0FBUztBQUFBLEVBQ2I7QUFBQSxFQUNBLFdBQVcsRUFBRSxNQUFNLFFBQVEsU0FBUyxVQUFVO0FBQUEsRUFDOUMsVUFBVSxFQUFFLE1BQU0sT0FBTztBQUFBLEVBQ3pCLFdBQVcsRUFBRSxNQUFNLE9BQU87QUFBQSxFQUMxQixVQUFVLEVBQUUsTUFBTSxRQUFRLFNBQVMsSUFBTztBQUFBO0FBQUEsRUFDMUMsU0FBUyxFQUFFLE1BQU0sT0FBTztBQUMxQixHQUFHLEVBQUUsWUFBWSxLQUFLLENBQUM7QUFHaEIsTUFBTSxhQUFhLFNBQVMsT0FBTyxTQUFTLFNBQVMsTUFBYyxTQUFTLFdBQVc7IiwKICAibmFtZXMiOiBbXQp9Cg==
