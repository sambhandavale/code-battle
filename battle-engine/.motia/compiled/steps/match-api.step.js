import { connectDB } from "../src/db.js";
import { MatchModel } from "../src/models/Match.js";
import Question from "../src/models/Question.js";
const config = {
  name: "MatchAPI",
  type: "api",
  path: "/match/:action",
  method: "POST",
  emits: ["player.joined", "run.code"],
  flows: ["CodeDuelFlow"]
};
const handler = async (req, context) => {
  const { emit, logger, streams } = context;
  await connectDB();
  try {
    const action = req.params?.action || req.pathParams?.action;
    const { playerId, matchId, code, language, time } = req.body || {};
    if (action === "create") {
      const newMatchId = matchId || `match_${Date.now()}`;
      let validDuration = 5;
      if (time && [5, 10, 20].includes(time)) {
        validDuration = time;
      }
      const durationMs = validDuration * 60 * 1e3;
      const count = await Question.countDocuments({ time: validDuration });
      if (count === 0) {
        return { status: 500, body: { error: `No questions found for ${validDuration} minutes. Please seed data.` } };
      }
      const random = Math.floor(Math.random() * count);
      const randomQuestion = await Question.findOne({ time: validDuration }).skip(random);
      if (!randomQuestion) {
        return { status: 500, body: { error: "Error fetching question." } };
      }
      logger.info(`Creating Match ${newMatchId} with problem: ${randomQuestion.title} (${validDuration} mins)`);
      await MatchModel.create({
        matchId: newMatchId,
        players: [playerId],
        status: "WAITING",
        problemId: randomQuestion._id.toString(),
        duration: durationMs
      });
      return {
        status: 200,
        body: {
          matchId: newMatchId,
          msg: "Match Created",
          durationMinutes: validDuration,
          problemTitle: randomQuestion.title
        }
      };
    }
    if (action === "join") {
      const game = await MatchModel.findOne({ matchId });
      if (!game) return { status: 404, body: { error: "Match not found" } };
      if (!game.players.includes(playerId)) {
        game.players.push(playerId);
        await game.save();
      }
      const problem = await Question.findById(game.problemId);
      logger.info(`DB: Added player ${playerId} to ${matchId}`);
      await emit({ topic: "player.joined", data: { matchId, playerId } });
      if (streams?.match) {
        await streams.match.set(matchId, "message", {
          type: "PLAYER_JOINED",
          playerId,
          players: game.players
        });
      }
      return {
        status: 200,
        body: {
          msg: "Joined",
          state: game,
          durationMs: game.duration,
          problem: { title: problem?.title, description: problem?.description }
        }
      };
    }
    if (action === "submit" || action === "run") {
      const requestType = req.body?.type || (action === "run" ? "RUN_TESTS" : "SUBMIT_SOLUTION");
      const match = await MatchModel.findOne({ matchId });
      if (!match) return { status: 404, body: { error: "Match not found" } };
      if (requestType === "SUBMIT_SOLUTION" && match.status !== "RACING") {
        return { status: 400, body: { error: `Cannot submit. Match is ${match.status}` } };
      }
      const deadline = match.endTime || (match.startTime || 0) + match.duration;
      if (requestType === "SUBMIT_SOLUTION" && match.status === "RACING" && Date.now() > deadline) {
        return { status: 400, body: { error: "Time Limit Exceeded! The match has ended." } };
      }
      const jobData = {
        matchId,
        playerId,
        code,
        action: requestType,
        // @ts-ignore
        language: language || "python",
        version: "3.10.0"
      };
      logger.info(`API: Queueing ${requestType} for ${playerId}`);
      await emit({ topic: "run.code", data: jobData });
      return { status: 200, body: { msg: "Code queued" } };
    }
    return { status: 400, body: { error: "Invalid Action" } };
  } catch (error) {
    logger.error("API Error", error);
    return { status: 500, body: { error: error.message } };
  }
};
export {
  config,
  handler
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3RlcHMvbWF0Y2gtYXBpLnN0ZXAudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFN0ZXBDb25maWcgfSBmcm9tICdtb3RpYSc7XHJcbmltcG9ydCB7IGNvbm5lY3REQiB9IGZyb20gJy4uL3NyYy9kYic7XHJcbmltcG9ydCB7IE1hdGNoTW9kZWwgfSBmcm9tICcuLi9zcmMvbW9kZWxzL01hdGNoJztcclxuaW1wb3J0IHsgUnVubmVyUmVxdWVzdCB9IGZyb20gJy4uL3NyYy90eXBlcyc7XHJcbmltcG9ydCBRdWVzdGlvbiBmcm9tICcuLi9zcmMvbW9kZWxzL1F1ZXN0aW9uJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IFN0ZXBDb25maWcgPSB7XHJcbiAgbmFtZTogJ01hdGNoQVBJJyxcclxuICB0eXBlOiAnYXBpJyxcclxuICBwYXRoOiAnL21hdGNoLzphY3Rpb24nLFxyXG4gIG1ldGhvZDogJ1BPU1QnLFxyXG4gIGVtaXRzOiBbJ3BsYXllci5qb2luZWQnLCAncnVuLmNvZGUnXSxcclxuICBmbG93czogWydDb2RlRHVlbEZsb3cnXVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxOiBhbnksIGNvbnRleHQ6IGFueSkgPT4ge1xyXG4gIC8vIFx1RDgzRFx1REM0NyAxLiBHZXQgJ3N0cmVhbXMnIGZyb20gY29udGV4dCBzbyB3ZSBjYW4gYnJvYWRjYXN0IHVwZGF0ZXNcclxuICBjb25zdCB7IGVtaXQsIGxvZ2dlciwgc3RyZWFtcyB9ID0gY29udGV4dDtcclxuICBhd2FpdCBjb25uZWN0REIoKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGFjdGlvbiA9IHJlcS5wYXJhbXM/LmFjdGlvbiB8fCByZXEucGF0aFBhcmFtcz8uYWN0aW9uO1xyXG4gICAgY29uc3QgeyBwbGF5ZXJJZCwgbWF0Y2hJZCwgY29kZSwgbGFuZ3VhZ2UsIHRpbWUgfSA9IHJlcS5ib2R5IHx8IHt9O1xyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICdjcmVhdGUnKSB7XHJcbiAgICAgICAgY29uc3QgbmV3TWF0Y2hJZCA9IG1hdGNoSWQgfHwgYG1hdGNoXyR7RGF0ZS5ub3coKX1gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB2YWxpZER1cmF0aW9uID0gNTtcclxuICAgICAgICBpZiAodGltZSAmJiBbNSwgMTAsIDIwXS5pbmNsdWRlcyh0aW1lKSkge1xyXG4gICAgICAgICAgICB2YWxpZER1cmF0aW9uID0gdGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb25NcyA9IHZhbGlkRHVyYXRpb24gKiA2MCAqIDEwMDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgUXVlc3Rpb24uY291bnREb2N1bWVudHMoeyB0aW1lOiB2YWxpZER1cmF0aW9uIH0pO1xyXG5cclxuICAgICAgICBpZiAoY291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiA1MDAsIGJvZHk6IHsgZXJyb3I6IGBObyBxdWVzdGlvbnMgZm91bmQgZm9yICR7dmFsaWREdXJhdGlvbn0gbWludXRlcy4gUGxlYXNlIHNlZWQgZGF0YS5gIH0gfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvdW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tUXVlc3Rpb24gPSBhd2FpdCBRdWVzdGlvbi5maW5kT25lKHsgdGltZTogdmFsaWREdXJhdGlvbiB9KS5za2lwKHJhbmRvbSk7XHJcblxyXG4gICAgICAgIGlmICghcmFuZG9tUXVlc3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiA1MDAsIGJvZHk6IHsgZXJyb3I6IFwiRXJyb3IgZmV0Y2hpbmcgcXVlc3Rpb24uXCIgfSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9nZ2VyLmluZm8oYENyZWF0aW5nIE1hdGNoICR7bmV3TWF0Y2hJZH0gd2l0aCBwcm9ibGVtOiAke3JhbmRvbVF1ZXN0aW9uLnRpdGxlfSAoJHt2YWxpZER1cmF0aW9ufSBtaW5zKWApO1xyXG5cclxuICAgICAgICBhd2FpdCBNYXRjaE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIG1hdGNoSWQ6IG5ld01hdGNoSWQsXHJcbiAgICAgICAgICAgIHBsYXllcnM6IFtwbGF5ZXJJZF0sXHJcbiAgICAgICAgICAgIHN0YXR1czogJ1dBSVRJTkcnLFxyXG4gICAgICAgICAgICBwcm9ibGVtSWQ6IHJhbmRvbVF1ZXN0aW9uLl9pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb25Nc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBzdGF0dXM6IDIwMCwgXHJcbiAgICAgICAgICAgIGJvZHk6IHsgXHJcbiAgICAgICAgICAgICAgICBtYXRjaElkOiBuZXdNYXRjaElkLCBcclxuICAgICAgICAgICAgICAgIG1zZzogXCJNYXRjaCBDcmVhdGVkXCIsIFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzOiB2YWxpZER1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgcHJvYmxlbVRpdGxlOiByYW5kb21RdWVzdGlvbi50aXRsZSBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICdqb2luJykge1xyXG4gICAgICAgIGNvbnN0IGdhbWUgPSBhd2FpdCBNYXRjaE1vZGVsLmZpbmRPbmUoeyBtYXRjaElkIH0pO1xyXG4gICAgICAgIGlmICghZ2FtZSkgcmV0dXJuIHsgc3RhdHVzOiA0MDQsIGJvZHk6IHsgZXJyb3I6IFwiTWF0Y2ggbm90IGZvdW5kXCIgfSB9O1xyXG5cclxuICAgICAgICBpZiAoIWdhbWUucGxheWVycy5pbmNsdWRlcyhwbGF5ZXJJZCkpIHtcclxuICAgICAgICAgICAgZ2FtZS5wbGF5ZXJzLnB1c2gocGxheWVySWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBnYW1lLnNhdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2JsZW0gPSBhd2FpdCBRdWVzdGlvbi5maW5kQnlJZChnYW1lLnByb2JsZW1JZCk7XHJcblxyXG4gICAgICAgIGxvZ2dlci5pbmZvKGBEQjogQWRkZWQgcGxheWVyICR7cGxheWVySWR9IHRvICR7bWF0Y2hJZH1gKTtcclxuICAgICAgICBcclxuICAgICAgICBhd2FpdCBlbWl0KHsgdG9waWM6ICdwbGF5ZXIuam9pbmVkJywgZGF0YTogeyBtYXRjaElkLCBwbGF5ZXJJZCB9IH0pO1xyXG5cclxuICAgICAgICBpZiAoc3RyZWFtcz8ubWF0Y2gpIHtcclxuICAgICAgICAgICAgYXdhaXQgc3RyZWFtcy5tYXRjaC5zZXQobWF0Y2hJZCwgJ21lc3NhZ2UnLCB7IFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BMQVlFUl9KT0lORUQnLCBcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHBsYXllcnM6IGdhbWUucGxheWVyc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgIHN0YXR1czogMjAwLCBcclxuICAgICAgICAgICAgYm9keTogeyBcclxuICAgICAgICAgICAgICAgIG1zZzogXCJKb2luZWRcIiwgXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogZ2FtZSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uTXM6IGdhbWUuZHVyYXRpb24sIFxyXG4gICAgICAgICAgICAgICAgcHJvYmxlbTogeyB0aXRsZTogcHJvYmxlbT8udGl0bGUsIGRlc2NyaXB0aW9uOiBwcm9ibGVtPy5kZXNjcmlwdGlvbiB9IFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3N1Ym1pdCcgfHwgYWN0aW9uID09PSAncnVuJykge1xyXG4gICAgICAgIC8vIEZyb250ZW5kIGNhbiBleHBsaWNpdGx5IHNlbmQgdHlwZTogJ1JVTl9URVNUUycgb3IgJ1NVQk1JVF9TT0xVVElPTidcclxuICAgICAgICBjb25zdCByZXF1ZXN0VHlwZSA9IHJlcS5ib2R5Py50eXBlIHx8IChhY3Rpb24gPT09ICdydW4nID8gJ1JVTl9URVNUUycgOiAnU1VCTUlUX1NPTFVUSU9OJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBNYXRjaE1vZGVsLmZpbmRPbmUoeyBtYXRjaElkIH0pO1xyXG4gICAgICAgIGlmICghbWF0Y2gpIHJldHVybiB7IHN0YXR1czogNDA0LCBib2R5OiB7IGVycm9yOiBcIk1hdGNoIG5vdCBmb3VuZFwiIH0gfTtcclxuXHJcbiAgICAgICAgLy8gQWxsb3cgcnVubmluZyBjb2RlIGV2ZW4gaWYgcmFjZSBoYXNuJ3Qgc3RhcnRlZCAoZm9yIHByYWN0aWNlKSwgXHJcbiAgICAgICAgLy8gYnV0IHJlc3RyaWN0IFNVQk1JVCB0byBSQUNJTkcgb25seS5cclxuICAgICAgICBpZiAocmVxdWVzdFR5cGUgPT09ICdTVUJNSVRfU09MVVRJT04nICYmIG1hdGNoLnN0YXR1cyAhPT0gJ1JBQ0lORycpIHtcclxuICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogNDAwLCBib2R5OiB7IGVycm9yOiBgQ2Fubm90IHN1Ym1pdC4gTWF0Y2ggaXMgJHttYXRjaC5zdGF0dXN9YCB9IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkZWFkbGluZSA9IG1hdGNoLmVuZFRpbWUgfHwgKChtYXRjaC5zdGFydFRpbWUgfHwgMCkgKyBtYXRjaC5kdXJhdGlvbik7XHJcbiAgICAgICAgaWYgKHJlcXVlc3RUeXBlID09PSAnU1VCTUlUX1NPTFVUSU9OJyAmJiBtYXRjaC5zdGF0dXMgPT09ICdSQUNJTkcnICYmIERhdGUubm93KCkgPiBkZWFkbGluZSkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IDQwMCwgYm9keTogeyBlcnJvcjogXCJUaW1lIExpbWl0IEV4Y2VlZGVkISBUaGUgbWF0Y2ggaGFzIGVuZGVkLlwiIH0gfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGpvYkRhdGE6IFJ1bm5lclJlcXVlc3QgPSB7IFxyXG4gICAgICAgICAgICBtYXRjaElkLCBcclxuICAgICAgICAgICAgcGxheWVySWQsIFxyXG4gICAgICAgICAgICBjb2RlLCBcclxuICAgICAgICAgICAgYWN0aW9uOiByZXF1ZXN0VHlwZSxcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgJ3B5dGhvbicsIFxyXG4gICAgICAgICAgICB2ZXJzaW9uOiAnMy4xMC4wJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgbG9nZ2VyLmluZm8oYEFQSTogUXVldWVpbmcgJHtyZXF1ZXN0VHlwZX0gZm9yICR7cGxheWVySWR9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgZW1pdCh7IHRvcGljOiAncnVuLmNvZGUnLCBkYXRhOiBqb2JEYXRhIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHN0YXR1czogMjAwLCBib2R5OiB7IG1zZzogXCJDb2RlIHF1ZXVlZFwiIH0gfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBzdGF0dXM6IDQwMCwgYm9keTogeyBlcnJvcjogXCJJbnZhbGlkIEFjdGlvblwiIH0gfTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgbG9nZ2VyLmVycm9yKFwiQVBJIEVycm9yXCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN0YXR1czogNTAwLCBib2R5OiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0gfTtcclxuICB9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O0FBQUEsUUFDSCxRQUFRO0FBQUEsUUFDUixNQUFNO0FBQUEsVUFDRixLQUFLO0FBQUEsVUFDTCxPQUFPO0FBQUEsVUFDUCxZQUFZLEtBQUs7QUFBQSxVQUNqQixTQUFTLEVBQUUsT0FBTyxTQUFTLE9BQU8sYUFBYSxTQUFTLFlBQVk7QUFBQSxRQUN4RTtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBRUEsUUFBSSxXQUFXLFlBQVksV0FBVyxPQUFPO0FBRXpDLFlBQU0sY0FBYyxJQUFJLE1BQU0sU0FBUyxXQUFXLFFBQVEsY0FBYztBQUV4RSxZQUFNLFFBQVEsTUFBTSxXQUFXLFFBQVEsRUFBRSxRQUFRLENBQUM7QUFDbEQsVUFBSSxDQUFDLE1BQU8sUUFBTyxFQUFFLFFBQVEsS0FBSyxNQUFNLEVBQUUsT0FBTyxrQkFBa0IsRUFBRTtBQUlyRSxVQUFJLGdCQUFnQixxQkFBcUIsTUFBTSxXQUFXLFVBQVU7QUFDL0QsZUFBTyxFQUFFLFFBQVEsS0FBSyxNQUFNLEVBQUUsT0FBTywyQkFBMkIsTUFBTSxNQUFNLEdBQUcsRUFBRTtBQUFBLE1BQ3RGO0FBRUEsWUFBTSxXQUFXLE1BQU0sWUFBYSxNQUFNLGFBQWEsS0FBSyxNQUFNO0FBQ2xFLFVBQUksZ0JBQWdCLHFCQUFxQixNQUFNLFdBQVcsWUFBWSxLQUFLLElBQUksSUFBSSxVQUFVO0FBQ3pGLGVBQU8sRUFBRSxRQUFRLEtBQUssTUFBTSxFQUFFLE9BQU8sNENBQTRDLEVBQUU7QUFBQSxNQUN2RjtBQUVBLFlBQU0sVUFBeUI7QUFBQSxRQUMzQjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQSxRQUFRO0FBQUE7QUFBQSxRQUVSLFVBQVUsWUFBWTtBQUFBLFFBQ3RCLFNBQVM7QUFBQSxNQUNiO0FBRUEsYUFBTyxLQUFLLGlCQUFpQixXQUFXLFFBQVEsUUFBUSxFQUFFO0FBRTFELFlBQU0sS0FBSyxFQUFFLE9BQU8sWUFBWSxNQUFNLFFBQVEsQ0FBQztBQUMvQyxhQUFPLEVBQUUsUUFBUSxLQUFLLE1BQU0sRUFBRSxLQUFLLGNBQWMsRUFBRTtBQUFBLElBQ3ZEO0FBRUEsV0FBTyxFQUFFLFFBQVEsS0FBSyxNQUFNLEVBQUUsT0FBTyxpQkFBaUIsRUFBRTtBQUFBLEVBRTFELFNBQVMsT0FBWTtBQUNuQixXQUFPLE1BQU0sYUFBYSxLQUFLO0FBQy9CLFdBQU8sRUFBRSxRQUFRLEtBQUssTUFBTSxFQUFFLE9BQU8sTUFBTSxRQUFRLEVBQUU7QUFBQSxFQUN2RDtBQUNGOyIsCiAgIm5hbWVzIjogW10KfQo=
