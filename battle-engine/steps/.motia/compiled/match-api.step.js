import { connectDB } from "../src/db.js";
import { MatchModel } from "../src/models/Match.js";
import Question from "../src/models/Question.js";
const config = {
  name: "MatchAPI",
  type: "api",
  path: "/match/:action",
  method: "POST",
  emits: ["player.joined", "run.code"],
  flows: ["CodeDuelFlow"]
};
const handler = async (req, context) => {
  const { emit, logger } = context;
  await connectDB();
  try {
    const action = req.params?.action || req.pathParams?.action;
    const { playerId, matchId, code, language, time } = req.body || {};
    if (action === "create") {
      const newMatchId = matchId || `match_${Date.now()}`;
      let validDuration = 5;
      if (time && [5, 10, 20].includes(time)) {
        validDuration = time;
      }
      const durationMs = validDuration * 60 * 1e3;
      const count = await Question.countDocuments({ time: validDuration });
      if (count === 0) {
        return { status: 500, body: { error: `No questions found for ${validDuration} minutes. Please seed data.` } };
      }
      const random = Math.floor(Math.random() * count);
      const randomQuestion = await Question.findOne({ time: validDuration }).skip(random);
      if (!randomQuestion) {
        return { status: 500, body: { error: "Error fetching question." } };
      }
      logger.info(`\u{1F3B2} Creating Match ${newMatchId} with problem: ${randomQuestion.title} (${validDuration} mins)`);
      await MatchModel.create({
        matchId: newMatchId,
        players: [playerId],
        status: "WAITING",
        problemId: randomQuestion._id.toString(),
        duration: durationMs
        // Save choice
      });
      return {
        status: 200,
        body: {
          matchId: newMatchId,
          msg: "Match Created",
          durationMinutes: validDuration,
          problemTitle: randomQuestion.title
        }
      };
    }
    if (action === "join") {
      const game = await MatchModel.findOne({ matchId });
      if (!game) return { status: 404, body: { error: "Match not found" } };
      if (!game.players.includes(playerId)) {
        game.players.push(playerId);
        await game.save();
      }
      const problem = await Question.findById(game.problemId);
      logger.info(`DB: Added player ${playerId} to ${matchId}`);
      await emit({ topic: "player.joined", data: { matchId, playerId } });
      return {
        status: 200,
        body: {
          msg: "Joined",
          state: game,
          durationMs: game.duration,
          problem: { title: problem?.title, description: problem?.description }
        }
      };
    }
    if (action === "submit") {
      const requestType = req.body?.type || "SUBMIT_SOLUTION";
      const match = await MatchModel.findOne({ matchId });
      if (!match) return { status: 404, body: { error: "Match not found" } };
      if (match.status !== "RACING") {
        return { status: 400, body: { error: `Cannot submit. Match is ${match.status}` } };
      }
      const deadline = match.endTime || (match.startTime || 0) + match.duration;
      if (Date.now() > deadline) {
        return { status: 400, body: { error: "\u23F0 Time Limit Exceeded! The match has ended." } };
      }
      const jobData = {
        matchId,
        playerId,
        code,
        action: requestType,
        // @ts-ignore
        language: language || "python",
        version: "3.10.0"
      };
      await emit({ topic: "run.code", data: jobData });
      return { status: 200, body: { msg: "Code queued" } };
    }
    return { status: 400, body: { error: "Invalid Action" } };
  } catch (error) {
    logger.error("API Error", error);
    return { status: 500, body: { error: error.message } };
  }
};
export {
  config,
  handler
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbWF0Y2gtYXBpLnN0ZXAudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFN0ZXBDb25maWcgfSBmcm9tICdtb3RpYSc7XHJcbmltcG9ydCB7IGNvbm5lY3REQiB9IGZyb20gJy4uL3NyYy9kYic7XHJcbmltcG9ydCB7IE1hdGNoTW9kZWwgfSBmcm9tICcuLi9zcmMvbW9kZWxzL01hdGNoJztcclxuaW1wb3J0IHsgUnVubmVyUmVxdWVzdCB9IGZyb20gJy4uL3NyYy90eXBlcyc7XHJcbmltcG9ydCBRdWVzdGlvbiBmcm9tICcuLi9zcmMvbW9kZWxzL1F1ZXN0aW9uJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IFN0ZXBDb25maWcgPSB7XHJcbiAgbmFtZTogJ01hdGNoQVBJJyxcclxuICB0eXBlOiAnYXBpJyxcclxuICBwYXRoOiAnL21hdGNoLzphY3Rpb24nLFxyXG4gIG1ldGhvZDogJ1BPU1QnLFxyXG4gIGVtaXRzOiBbJ3BsYXllci5qb2luZWQnLCAncnVuLmNvZGUnXSxcclxuICBmbG93czogWydDb2RlRHVlbEZsb3cnXVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxOiBhbnksIGNvbnRleHQ6IGFueSkgPT4ge1xyXG4gIGNvbnN0IHsgZW1pdCwgbG9nZ2VyIH0gPSBjb250ZXh0O1xyXG4gIGF3YWl0IGNvbm5lY3REQigpO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgYWN0aW9uID0gcmVxLnBhcmFtcz8uYWN0aW9uIHx8IHJlcS5wYXRoUGFyYW1zPy5hY3Rpb247XHJcbiAgICBjb25zdCB7IHBsYXllcklkLCBtYXRjaElkLCBjb2RlLCBsYW5ndWFnZSwgdGltZSB9ID0gcmVxLmJvZHkgfHwge307XHJcblxyXG4gICAgLy8gLS0tIENSRUFURSBNQVRDSCAtLS1cclxuICAgIGlmIChhY3Rpb24gPT09ICdjcmVhdGUnKSB7XHJcbiAgICAgICAgY29uc3QgbmV3TWF0Y2hJZCA9IG1hdGNoSWQgfHwgYG1hdGNoXyR7RGF0ZS5ub3coKX1gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIDEuIENhbGN1bGF0ZSBEdXJhdGlvblxyXG4gICAgICAgIGxldCB2YWxpZER1cmF0aW9uID0gNTtcclxuICAgICAgICBpZiAodGltZSAmJiBbNSwgMTAsIDIwXS5pbmNsdWRlcyh0aW1lKSkge1xyXG4gICAgICAgICAgICB2YWxpZER1cmF0aW9uID0gdGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb25NcyA9IHZhbGlkRHVyYXRpb24gKiA2MCAqIDEwMDA7XHJcblxyXG4gICAgICAgIC8vIDIuIFNlbGVjdCBSYW5kb20gUXVlc3Rpb24gKEZJWEVEIExPR0lDKVxyXG4gICAgICAgIC8vIEZJTFRFUiBUSEUgQ09VTlQ6IE9ubHkgY291bnQgcXVlc3Rpb25zIHRoYXQgbWF0Y2ggdGhlIHRpbWVcclxuICAgICAgICBjb25zdCBjb3VudCA9IGF3YWl0IFF1ZXN0aW9uLmNvdW50RG9jdW1lbnRzKHsgdGltZTogdmFsaWREdXJhdGlvbiB9KTtcclxuXHJcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogNTAwLCBib2R5OiB7IGVycm9yOiBgTm8gcXVlc3Rpb25zIGZvdW5kIGZvciAke3ZhbGlkRHVyYXRpb259IG1pbnV0ZXMuIFBsZWFzZSBzZWVkIGRhdGEuYCB9IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gaW5kZXggYmFzZWQgb24gdGhlIEZJTFRFUkVEIGNvdW50XHJcbiAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY291bnQpO1xyXG5cclxuICAgICAgICAvLyBGaW5kIG9uZSB3aXRoIHRoZSBzYW1lIGZpbHRlciBhbmQgc2tpcFxyXG4gICAgICAgIGNvbnN0IHJhbmRvbVF1ZXN0aW9uID0gYXdhaXQgUXVlc3Rpb24uZmluZE9uZSh7IHRpbWU6IHZhbGlkRHVyYXRpb24gfSkuc2tpcChyYW5kb20pO1xyXG5cclxuICAgICAgICBpZiAoIXJhbmRvbVF1ZXN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkIHRoZW9yZXRpY2FsbHkgbm90IGhhcHBlbiBpZiBjb3VudCA+IDAsIGJ1dCBnb29kIHNhZmV0eVxyXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IDUwMCwgYm9keTogeyBlcnJvcjogXCJFcnJvciBmZXRjaGluZyBxdWVzdGlvbi5cIiB9IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2dnZXIuaW5mbyhgXHVEODNDXHVERkIyIENyZWF0aW5nIE1hdGNoICR7bmV3TWF0Y2hJZH0gd2l0aCBwcm9ibGVtOiAke3JhbmRvbVF1ZXN0aW9uLnRpdGxlfSAoJHt2YWxpZER1cmF0aW9ufSBtaW5zKWApO1xyXG5cclxuICAgICAgICAvLyAzLiBDcmVhdGUgTWF0Y2hcclxuICAgICAgICBhd2FpdCBNYXRjaE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIG1hdGNoSWQ6IG5ld01hdGNoSWQsXHJcbiAgICAgICAgICAgIHBsYXllcnM6IFtwbGF5ZXJJZF0sXHJcbiAgICAgICAgICAgIHN0YXR1czogJ1dBSVRJTkcnLFxyXG4gICAgICAgICAgICBwcm9ibGVtSWQ6IHJhbmRvbVF1ZXN0aW9uLl9pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb25NcyAvLyBTYXZlIGNob2ljZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBzdGF0dXM6IDIwMCwgXHJcbiAgICAgICAgICAgIGJvZHk6IHsgXHJcbiAgICAgICAgICAgICAgICBtYXRjaElkOiBuZXdNYXRjaElkLCBcclxuICAgICAgICAgICAgICAgIG1zZzogXCJNYXRjaCBDcmVhdGVkXCIsIFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzOiB2YWxpZER1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgcHJvYmxlbVRpdGxlOiByYW5kb21RdWVzdGlvbi50aXRsZSBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBKT0lOIE1BVENIIC0tLSBcclxuICAgIGlmIChhY3Rpb24gPT09ICdqb2luJykge1xyXG4gICAgICAgIGNvbnN0IGdhbWUgPSBhd2FpdCBNYXRjaE1vZGVsLmZpbmRPbmUoeyBtYXRjaElkIH0pO1xyXG4gICAgICAgIGlmICghZ2FtZSkgcmV0dXJuIHsgc3RhdHVzOiA0MDQsIGJvZHk6IHsgZXJyb3I6IFwiTWF0Y2ggbm90IGZvdW5kXCIgfSB9O1xyXG5cclxuICAgICAgICBpZiAoIWdhbWUucGxheWVycy5pbmNsdWRlcyhwbGF5ZXJJZCkpIHtcclxuICAgICAgICAgICAgZ2FtZS5wbGF5ZXJzLnB1c2gocGxheWVySWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBnYW1lLnNhdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBwcm9ibGVtIGRldGFpbHMgQU5EIGR1cmF0aW9uIHNvIFVJIGNhbiBzZXQgdGhlIGNsb2NrXHJcbiAgICAgICAgY29uc3QgcHJvYmxlbSA9IGF3YWl0IFF1ZXN0aW9uLmZpbmRCeUlkKGdhbWUucHJvYmxlbUlkKTtcclxuXHJcbiAgICAgICAgbG9nZ2VyLmluZm8oYERCOiBBZGRlZCBwbGF5ZXIgJHtwbGF5ZXJJZH0gdG8gJHttYXRjaElkfWApO1xyXG4gICAgICAgIGF3YWl0IGVtaXQoeyB0b3BpYzogJ3BsYXllci5qb2luZWQnLCBkYXRhOiB7IG1hdGNoSWQsIHBsYXllcklkIH0gfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgIHN0YXR1czogMjAwLCBcclxuICAgICAgICAgICAgYm9keTogeyBcclxuICAgICAgICAgICAgICAgIG1zZzogXCJKb2luZWRcIiwgXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogZ2FtZSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uTXM6IGdhbWUuZHVyYXRpb24sIFxyXG4gICAgICAgICAgICAgICAgcHJvYmxlbTogeyB0aXRsZTogcHJvYmxlbT8udGl0bGUsIGRlc2NyaXB0aW9uOiBwcm9ibGVtPy5kZXNjcmlwdGlvbiB9IFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIFNVQk1JVCBDT0RFIC0tLVxyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3N1Ym1pdCcpIHtcclxuICAgICAgICBjb25zdCByZXF1ZXN0VHlwZSA9IHJlcS5ib2R5Py50eXBlIHx8ICdTVUJNSVRfU09MVVRJT04nO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgTWF0Y2hNb2RlbC5maW5kT25lKHsgbWF0Y2hJZCB9KTtcclxuICAgICAgICBpZiAoIW1hdGNoKSByZXR1cm4geyBzdGF0dXM6IDQwNCwgYm9keTogeyBlcnJvcjogXCJNYXRjaCBub3QgZm91bmRcIiB9IH07XHJcblxyXG4gICAgICAgIGlmIChtYXRjaC5zdGF0dXMgIT09ICdSQUNJTkcnKSB7XHJcbiAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IDQwMCwgYm9keTogeyBlcnJvcjogYENhbm5vdCBzdWJtaXQuIE1hdGNoIGlzICR7bWF0Y2guc3RhdHVzfWAgfSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gLS0tIERZTkFNSUMgVElNRVIgQ0hFQ0sgLS0tXHJcbiAgICAgICAgLy8gSWYgZW5kVGltZSBleGlzdHMsIHVzZSBpdC4gT3RoZXJ3aXNlIGNhbGMgZnJvbSBzdGFydCArIGR1cmF0aW9uLlxyXG4gICAgICAgIGNvbnN0IGRlYWRsaW5lID0gbWF0Y2guZW5kVGltZSB8fCAoKG1hdGNoLnN0YXJ0VGltZSB8fCAwKSArIG1hdGNoLmR1cmF0aW9uKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoRGF0ZS5ub3coKSA+IGRlYWRsaW5lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogNDAwLCBib2R5OiB7IGVycm9yOiBcIlx1MjNGMCBUaW1lIExpbWl0IEV4Y2VlZGVkISBUaGUgbWF0Y2ggaGFzIGVuZGVkLlwiIH0gfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFByb2NlZWQgdG8gUnVubmVyXHJcbiAgICAgICAgY29uc3Qgam9iRGF0YTogUnVubmVyUmVxdWVzdCA9IHsgXHJcbiAgICAgICAgICAgIG1hdGNoSWQsIFxyXG4gICAgICAgICAgICBwbGF5ZXJJZCwgXHJcbiAgICAgICAgICAgIGNvZGUsIFxyXG4gICAgICAgICAgICBhY3Rpb246IHJlcXVlc3RUeXBlLCBcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgJ3B5dGhvbicsIFxyXG4gICAgICAgICAgICB2ZXJzaW9uOiAnMy4xMC4wJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXdhaXQgZW1pdCh7IHRvcGljOiAncnVuLmNvZGUnLCBkYXRhOiBqb2JEYXRhIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHN0YXR1czogMjAwLCBib2R5OiB7IG1zZzogXCJDb2RlIHF1ZXVlZFwiIH0gfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBzdGF0dXM6IDQwMCwgYm9keTogeyBlcnJvcjogXCJJbnZhbGlkIEFjdGlvblwiIH0gfTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgbG9nZ2VyLmVycm9yKFwiQVBJIEVycm9yXCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN0YXR1czogNTAwLCBib2R5OiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0gfTtcclxuICB9XHJcbn07Il0sCiAgIm1hcHBpbmdzIjogIkFBQ0EsU0FBUyxpQkFBaUI7QUFDMUIsU0FBUyxrQkFBa0I7QUFFM0Is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
