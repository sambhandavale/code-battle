import { connectDB } from "../src/db.js";
import { MatchModel } from "../src/models/Match.js";
import Question from "../src/models/Question.js";
import { languages } from "../src/utils/lang.js";
const config = {
  name: "CodeRunner",
  type: "event",
  subscribes: ["run.code"],
  emits: ["code.processed"],
  flows: ["CodeDuelFlow"]
};
var Verdict = /* @__PURE__ */ ((Verdict2) => {
  Verdict2["ACCEPTED"] = "Accepted";
  Verdict2["WRONG_ANSWER"] = "Wrong Answer";
  Verdict2["COMPILE_ERROR"] = "Compilation Error";
  Verdict2["RUNTIME_ERROR"] = "Runtime Error";
  return Verdict2;
})(Verdict || {});
const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
const handler = async (event, { emit, logger }) => {
  await connectDB();
  const data = event.data || event;
  const { matchId, playerId, code, action, language = "python", version = "3.10.0" } = data;
  let overallSuccess = true;
  let errorMsg = void 0;
  const testResults = [];
  try {
    const match = await MatchModel.findOne({ matchId });
    if (!match) throw new Error("Match not found");
    if (action === "SUBMIT_SOLUTION" && match.status !== "RACING") {
      throw new Error(`Cannot submit. Match is ${match.status}`);
    }
    const question = await Question.findById(match.problemId);
    if (!question) throw new Error("Question not found");
    let casesToRun = question.test_cases;
    if (action === "RUN_TESTS") {
      const limit = Math.ceil(casesToRun.length * 0.25) || 1;
      casesToRun = casesToRun.slice(0, limit);
      logger.info(`JUDGE: Running subset (${limit}/${question.test_cases.length}) for ${playerId}`);
    } else {
      logger.info(`JUDGE: Running ALL (${casesToRun.length}) for ${playerId} submission`);
    }
    for (let i = 0; i < casesToRun.length; i++) {
      const testCase = casesToRun[i];
      const result = await runPiston(code, language, version, testCase, logger);
      const caseResult = {
        id: i + 1,
        input: testCase.input,
        expected: testCase.output,
        actual: result.output || result.stderr,
        status: result.status,
        passed: result.status === "Accepted" /* ACCEPTED */
      };
      testResults.push(caseResult);
      if (result.status !== "Accepted" /* ACCEPTED */) {
        overallSuccess = false;
        if (result.status === "Compilation Error" /* COMPILE_ERROR */) {
          errorMsg = result.stderr;
          break;
        }
      }
      if (i < casesToRun.length - 1) await sleep(300);
    }
  } catch (err) {
    overallSuccess = false;
    errorMsg = err.message || "System Error";
    logger.error(`RUNNER ERROR: ${errorMsg}`);
  }
  const resultData = {
    matchId,
    playerId,
    action,
    success: overallSuccess && !errorMsg,
    error: errorMsg,
    results: testResults
  };
  logger.info(`VERDICT for ${playerId}: ${resultData.success ? "PASSED" : "FAILED"}`);
  await emit({ topic: "code.processed", data: resultData });
};
async function runPiston(code, language, version, testCase, logger) {
  const pistonLang = languages.find((lang) => lang.pistonLang == language)?.pistonLang;
  const ver = languages.find((lang) => lang.pistonLang == language)?.version;
  const payload = {
    language: pistonLang,
    version: ver || "*",
    files: [{ name: "main", content: code }],
    stdin: testCase.input,
    run_timeout: 3e3,
    compile_timeout: 1e4
  };
  try {
    const response = await fetch("https://emkc.org/api/v2/piston/execute", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
    if (!response.ok) {
      const text = await response.text();
      if (logger) logger.error(`PISTON HTTP ERROR ${response.status}: ${text}`);
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: `API HTTP ${response.status}: ${text}` };
    }
    const data = await response.json();
    if (data.message) return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: data.message };
    if (data.compile && data.compile.code !== 0) return { status: "Compilation Error" /* COMPILE_ERROR */, stderr: data.compile.stderr };
    if (data.run && data.run.code !== 0) return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: data.run.stderr || `Exited with code ${data.run.code}` };
    const actual = (data.run.stdout || "").trim();
    const expected = testCase.output.map((o) => o.trim());
    const isCorrect = expected.includes(actual);
    return { status: isCorrect ? "Accepted" /* ACCEPTED */ : "Wrong Answer" /* WRONG_ANSWER */, output: actual };
  } catch (e) {
    if (logger) logger.error("PISTON EXCEPTION:", e.message);
    return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: `API Exception: ${e.message}` };
  }
}
export {
  config,
  handler
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29kZS1ydW5uZXIuc3RlcC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgU3RlcENvbmZpZyB9IGZyb20gJ21vdGlhJztcclxuaW1wb3J0IHsgY29ubmVjdERCIH0gZnJvbSAnLi4vc3JjL2RiJztcclxuaW1wb3J0IHsgTWF0Y2hNb2RlbCB9IGZyb20gJy4uL3NyYy9tb2RlbHMvTWF0Y2gnO1xyXG5pbXBvcnQgeyBSdW5uZXJSZXF1ZXN0LCBSdW5uZXJSZXN1bHQgfSBmcm9tICcuLi9zcmMvdHlwZXMnO1xyXG5pbXBvcnQgUXVlc3Rpb24gZnJvbSAnLi4vc3JjL21vZGVscy9RdWVzdGlvbic7XHJcbmltcG9ydCB7IGxhbmd1YWdlcyB9IGZyb20gJy4uL3NyYy91dGlscy9sYW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IFN0ZXBDb25maWcgPSB7XHJcbiAgbmFtZTogJ0NvZGVSdW5uZXInLFxyXG4gIHR5cGU6ICdldmVudCcsXHJcbiAgc3Vic2NyaWJlczogWydydW4uY29kZSddLFxyXG4gIGVtaXRzOiBbJ2NvZGUucHJvY2Vzc2VkJ10sXHJcbiAgZmxvd3M6IFsnQ29kZUR1ZWxGbG93J11cclxufTtcclxuXHJcbmVudW0gVmVyZGljdCB7XHJcbiAgQUNDRVBURUQgPSBcIkFjY2VwdGVkXCIsXHJcbiAgV1JPTkdfQU5TV0VSID0gXCJXcm9uZyBBbnN3ZXJcIixcclxuICBDT01QSUxFX0VSUk9SID0gXCJDb21waWxhdGlvbiBFcnJvclwiLFxyXG4gIFJVTlRJTUVfRVJST1IgPSBcIlJ1bnRpbWUgRXJyb3JcIixcclxufVxyXG5cclxuY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBhbnksIHsgZW1pdCwgbG9nZ2VyIH06IGFueSkgPT4ge1xyXG4gIGF3YWl0IGNvbm5lY3REQigpO1xyXG5cclxuICBjb25zdCBkYXRhID0gKGV2ZW50LmRhdGEgfHwgZXZlbnQpIGFzIFJ1bm5lclJlcXVlc3QgJiB7IGxhbmd1YWdlPzogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nIH07XHJcbiAgY29uc3QgeyBtYXRjaElkLCBwbGF5ZXJJZCwgY29kZSwgYWN0aW9uLCBsYW5ndWFnZSA9IFwicHl0aG9uXCIsIHZlcnNpb24gPSBcIjMuMTAuMFwiIH0gPSBkYXRhO1xyXG5cclxuICBsZXQgb3ZlcmFsbFN1Y2Nlc3MgPSB0cnVlO1xyXG4gIGxldCBlcnJvck1zZyA9IHVuZGVmaW5lZDtcclxuICBjb25zdCB0ZXN0UmVzdWx0czogYW55W10gPSBbXTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgTWF0Y2hNb2RlbC5maW5kT25lKHsgbWF0Y2hJZCB9KTtcclxuICAgIGlmICghbWF0Y2gpIHRocm93IG5ldyBFcnJvcihcIk1hdGNoIG5vdCBmb3VuZFwiKTtcclxuXHJcbiAgICBpZiAoYWN0aW9uID09PSAnU1VCTUlUX1NPTFVUSU9OJyAmJiBtYXRjaC5zdGF0dXMgIT09ICdSQUNJTkcnKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc3VibWl0LiBNYXRjaCBpcyAke21hdGNoLnN0YXR1c31gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBxdWVzdGlvbiA9IGF3YWl0IFF1ZXN0aW9uLmZpbmRCeUlkKG1hdGNoLnByb2JsZW1JZCk7XHJcbiAgICBpZiAoIXF1ZXN0aW9uKSB0aHJvdyBuZXcgRXJyb3IoXCJRdWVzdGlvbiBub3QgZm91bmRcIik7XHJcblxyXG4gICAgbGV0IGNhc2VzVG9SdW4gPSBxdWVzdGlvbi50ZXN0X2Nhc2VzO1xyXG4gICAgXHJcbiAgICBpZiAoYWN0aW9uID09PSAnUlVOX1RFU1RTJykge1xyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5jZWlsKGNhc2VzVG9SdW4ubGVuZ3RoICogMC4yNSkgfHwgMTsgXHJcbiAgICAgICAgY2FzZXNUb1J1biA9IGNhc2VzVG9SdW4uc2xpY2UoMCwgbGltaXQpO1xyXG4gICAgICAgIGxvZ2dlci5pbmZvKGBKVURHRTogUnVubmluZyBzdWJzZXQgKCR7bGltaXR9LyR7cXVlc3Rpb24udGVzdF9jYXNlcy5sZW5ndGh9KSBmb3IgJHtwbGF5ZXJJZH1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9nZ2VyLmluZm8oYEpVREdFOiBSdW5uaW5nIEFMTCAoJHtjYXNlc1RvUnVuLmxlbmd0aH0pIGZvciAke3BsYXllcklkfSBzdWJtaXNzaW9uYCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXNlc1RvUnVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgdGVzdENhc2UgPSBjYXNlc1RvUnVuW2ldO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1blBpc3Rvbihjb2RlLCBsYW5ndWFnZSwgdmVyc2lvbiwgdGVzdENhc2UsIGxvZ2dlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhc2VSZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIGlkOiBpICsgMSxcclxuICAgICAgICAgICAgaW5wdXQ6IHRlc3RDYXNlLmlucHV0LFxyXG4gICAgICAgICAgICBleHBlY3RlZDogdGVzdENhc2Uub3V0cHV0LFxyXG4gICAgICAgICAgICBhY3R1YWw6IHJlc3VsdC5vdXRwdXQgfHwgcmVzdWx0LnN0ZGVycixcclxuICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxyXG4gICAgICAgICAgICBwYXNzZWQ6IHJlc3VsdC5zdGF0dXMgPT09IFZlcmRpY3QuQUNDRVBURURcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRlc3RSZXN1bHRzLnB1c2goY2FzZVJlc3VsdCk7XHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSBWZXJkaWN0LkFDQ0VQVEVEKSB7XHJcbiAgICAgICAgICAgIG92ZXJhbGxTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBWZXJkaWN0LkNPTVBJTEVfRVJST1IpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTXNnID0gcmVzdWx0LnN0ZGVycjtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGkgPCBjYXNlc1RvUnVuLmxlbmd0aCAtIDEpIGF3YWl0IHNsZWVwKDMwMCk7XHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICBvdmVyYWxsU3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgZXJyb3JNc2cgPSBlcnIubWVzc2FnZSB8fCBcIlN5c3RlbSBFcnJvclwiO1xyXG4gICAgbG9nZ2VyLmVycm9yKGBSVU5ORVIgRVJST1I6ICR7ZXJyb3JNc2d9YCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXN1bHREYXRhID0ge1xyXG4gICAgbWF0Y2hJZCxcclxuICAgIHBsYXllcklkLFxyXG4gICAgYWN0aW9uOiBhY3Rpb24gYXMgJ1JVTl9URVNUUycgfCAnU1VCTUlUX1NPTFVUSU9OJyxcclxuICAgIHN1Y2Nlc3M6IG92ZXJhbGxTdWNjZXNzICYmICFlcnJvck1zZyxcclxuICAgIGVycm9yOiBlcnJvck1zZyxcclxuICAgIHJlc3VsdHM6IHRlc3RSZXN1bHRzXHJcbiAgfTtcclxuXHJcbiAgbG9nZ2VyLmluZm8oYFZFUkRJQ1QgZm9yICR7cGxheWVySWR9OiAke3Jlc3VsdERhdGEuc3VjY2VzcyA/IFwiUEFTU0VEXCIgOiBcIkZBSUxFRFwifWApO1xyXG4gIGF3YWl0IGVtaXQoeyB0b3BpYzogJ2NvZGUucHJvY2Vzc2VkJywgZGF0YTogcmVzdWx0RGF0YSB9KTtcclxufTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJ1blBpc3Rvbihjb2RlOiBzdHJpbmcsIGxhbmd1YWdlOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZywgdGVzdENhc2U6IGFueSwgbG9nZ2VyPzogYW55KSB7XHJcbiAgICBjb25zdCBwaXN0b25MYW5nID0gbGFuZ3VhZ2VzLmZpbmQoKGxhbmcpPT5sYW5nLnBpc3RvbkxhbmcgPT0gbGFuZ3VhZ2UpPy5waXN0b25MYW5nXHJcbiAgICBjb25zdCB2ZXIgPSBsYW5ndWFnZXMuZmluZCgobGFuZyk9PmxhbmcucGlzdG9uTGFuZyA9PSBsYW5ndWFnZSk/LnZlcnNpb247XHJcblxyXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgICAgICBsYW5ndWFnZTogcGlzdG9uTGFuZyxcclxuICAgICAgICB2ZXJzaW9uOiB2ZXIgfHwgXCIqXCIsXHJcbiAgICAgICAgZmlsZXM6IFt7IG5hbWU6ICdtYWluJywgY29udGVudDogY29kZSB9XSxcclxuICAgICAgICBzdGRpbjogdGVzdENhc2UuaW5wdXQsXHJcbiAgICAgICAgcnVuX3RpbWVvdXQ6IDMwMDAsXHJcbiAgICAgICAgY29tcGlsZV90aW1lb3V0OiAxMDAwMCxcclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9lbWtjLm9yZy9hcGkvdjIvcGlzdG9uL2V4ZWN1dGVcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgICAgIGlmIChsb2dnZXIpIGxvZ2dlci5lcnJvcihgUElTVE9OIEhUVFAgRVJST1IgJHtyZXNwb25zZS5zdGF0dXN9OiAke3RleHR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5SVU5USU1FX0VSUk9SLCBzdGRlcnI6IGBBUEkgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7dGV4dH1gIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkYXRhOiBhbnkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5SVU5USU1FX0VSUk9SLCBzdGRlcnI6IGRhdGEubWVzc2FnZSB9O1xyXG4gICAgICAgIGlmIChkYXRhLmNvbXBpbGUgJiYgZGF0YS5jb21waWxlLmNvZGUgIT09IDApIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5DT01QSUxFX0VSUk9SLCBzdGRlcnI6IGRhdGEuY29tcGlsZS5zdGRlcnIgfTtcclxuICAgICAgICBpZiAoZGF0YS5ydW4gJiYgZGF0YS5ydW4uY29kZSAhPT0gMCkgcmV0dXJuIHsgc3RhdHVzOiBWZXJkaWN0LlJVTlRJTUVfRVJST1IsIHN0ZGVycjogZGF0YS5ydW4uc3RkZXJyIHx8IGBFeGl0ZWQgd2l0aCBjb2RlICR7ZGF0YS5ydW4uY29kZX1gIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IChkYXRhLnJ1bi5zdGRvdXQgfHwgXCJcIikudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkID0gdGVzdENhc2Uub3V0cHV0Lm1hcCgobzogc3RyaW5nKSA9PiBvLnRyaW0oKSk7XHJcbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gZXhwZWN0ZWQuaW5jbHVkZXMoYWN0dWFsKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IGlzQ29ycmVjdCA/IFZlcmRpY3QuQUNDRVBURUQgOiBWZXJkaWN0LldST05HX0FOU1dFUiwgb3V0cHV0OiBhY3R1YWwgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgICBpZiAobG9nZ2VyKSBsb2dnZXIuZXJyb3IoXCJQSVNUT04gRVhDRVBUSU9OOlwiLCBlLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5SVU5USU1FX0VSUk9SLCBzdGRlcnI6IGBBUEkgRXhjZXB0aW9uOiAke2UubWVzc2FnZX1gIH07XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiQUFDQSxTQUFTLGlCQUFpQjtBQUMxQixTQUFTLGtCQUFrQjtBQUUzQixPQUFPLGNBQWM7QUFDckIsU0FBUyxpQkFBaUI7QUFFbkIsTUFBTSxTQUFxQjtBQUFBLEVBQ2hDLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLFlBQVksQ0FBQyxVQUFVO0FBQUEsRUFDdkIsT0FBTyxDQUFDLGdCQUFnQjtBQUFBLEVBQ3hCLE9BQU8sQ0FBQyxjQUFjO0FBQ3hCO0FBRUEsSUFBSyxVQUFMLGtCQUFLQSxhQUFMO0FBQ0UsRUFBQUEsU0FBQSxjQUFXO0FBQ1gsRUFBQUEsU0FBQSxrQkFBZTtBQUNmLEVBQUFBLFNBQUEsbUJBQWdCO0FBQ2hCLEVBQUFBLFNBQUEsbUJBQWdCO0FBSmIsU0FBQUE7QUFBQSxHQUFBO0FBT0wsTUFBTSxRQUFRLENBQUMsT0FBZSxJQUFJLFFBQVEsQ0FBQyxZQUFZLFdBQVcsU0FBUyxFQUFFLENBQUM7QUFFdkUsTUFBTSxVQUFVLE9BQU8sT0FBWSxFQUFFLE1BQU0sT0FBTyxNQUFXO0FBQ2xFLFFBQU0sVUFBVTtBQUVoQixRQUFNLE9BQVEsTUFBTSxRQUFRO0FBQzVCLFFBQU0sRUFBRSxTQUFTLFVBQVUsTUFBTSxRQUFRLFdBQVcsVUFBVSxVQUFVLFNBQVMsSUFBSTtBQUVyRixNQUFJLGlCQUFpQjtBQUNyQixNQUFJLFdBQVc7QUFDZixRQUFNLGNBQXFCLENBQUM7QUFFNUIsTUFBSTtBQUNGLFVBQU0sUUFBUSxNQUFNLFdBQVcsUUFBUSxFQUFFLFFBQVEsQ0FBQztBQUNsRCxRQUFJLENBQUMsTUFBTyxPQUFNLElB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
