import { connectDB } from "../src/db.js";
import { MatchModel } from "../src/models/Match.js";
import Question from "../src/models/Question.js";
import { languages } from "../src/utils/lang.js";
const config = {
  name: "CodeRunner",
  type: "event",
  subscribes: ["run.code"],
  emits: ["code.processed"],
  flows: ["CodeDuelFlow"]
};
var Verdict = /* @__PURE__ */ ((Verdict2) => {
  Verdict2["ACCEPTED"] = "Accepted";
  Verdict2["WRONG_ANSWER"] = "Wrong Answer";
  Verdict2["COMPILE_ERROR"] = "Compilation Error";
  Verdict2["RUNTIME_ERROR"] = "Runtime Error";
  return Verdict2;
})(Verdict || {});
const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
const handler = async (event, { emit, logger }) => {
  await connectDB();
  const data = event.data || event;
  const { matchId, playerId, code, action, language = "python", version = "3.10.0" } = data;
  let overallSuccess = true;
  let errorMsg = void 0;
  const testResults = [];
  try {
    const match = await MatchModel.findOne({ matchId });
    if (!match) throw new Error("Match not found");
    const question = await Question.findById(match.problemId);
    if (!question) throw new Error("Question not found");
    let casesToRun = question.test_cases;
    if (action === "RUN_TESTS") {
      const limit = Math.ceil(casesToRun.length * 0.25) || 1;
      casesToRun = casesToRun.slice(0, limit);
      logger.info(`JUDGE: Running subset (${limit}/${question.test_cases.length}) for ${playerId}`);
    } else {
      logger.info(`JUDGE: Running ALL (${casesToRun.length}) for ${playerId} submission`);
    }
    for (let i = 0; i < casesToRun.length; i++) {
      const testCase = casesToRun[i];
      const result = await runPiston(code, language, version, testCase, logger);
      const caseResult = {
        id: i + 1,
        input: testCase.input,
        expected: testCase.output,
        actual: result.output || result.stderr,
        status: result.status,
        passed: result.status === "Accepted" /* ACCEPTED */
      };
      testResults.push(caseResult);
      if (result.status !== "Accepted" /* ACCEPTED */) {
        overallSuccess = false;
        if (result.status === "Compilation Error" /* COMPILE_ERROR */) {
          errorMsg = result.stderr;
          break;
        }
      }
      if (i < casesToRun.length - 1) {
        await sleep(300);
      }
    }
  } catch (err) {
    overallSuccess = false;
    errorMsg = `System Error: ${err.message}`;
    logger.error(errorMsg);
  }
  const resultData = {
    matchId,
    playerId,
    action,
    success: overallSuccess && !errorMsg,
    error: errorMsg,
    results: testResults
  };
  logger.info(`VERDICT for ${playerId}: ${resultData.success ? "PASSED" : "FAILED"}`);
  await emit({ topic: "code.processed", data: resultData });
};
async function runPiston(code, language, version, testCase, logger) {
  const pistonLang = languages.find((lang) => lang.pistonLang == language)?.pistonLang;
  const ver = languages.find((lang) => lang.pistonLang == language)?.version;
  const payload = {
    language: pistonLang,
    version: ver || "*",
    // Piston often fails if version doesn't match exactly, '*' is safer
    files: [{ name: "main", content: code }],
    stdin: testCase.input,
    run_timeout: 3e3,
    compile_timeout: 1e4
  };
  try {
    const response = await fetch("https://emkc.org/api/v2/piston/execute", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
    if (!response.ok) {
      const text = await response.text();
      if (logger) logger.error(`PISTON HTTP ERROR ${response.status}: ${text}`);
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: `API HTTP ${response.status}: ${text}` };
    }
    const data = await response.json();
    if (data.message) {
      if (logger) logger.error("PISTON ERROR MESSAGE:", data.message);
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: data.message };
    }
    if (data.compile && data.compile.code !== 0) {
      return { status: "Compilation Error" /* COMPILE_ERROR */, stderr: data.compile.stderr };
    }
    if (data.run && data.run.code !== 0) {
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: data.run.stderr || `Exited with code ${data.run.code}` };
    }
    const actual = (data.run.stdout || "").trim();
    const expected = testCase.output.map((o) => o.trim());
    const isCorrect = expected.includes(actual);
    return {
      status: isCorrect ? "Accepted" /* ACCEPTED */ : "Wrong Answer" /* WRONG_ANSWER */,
      output: actual
    };
  } catch (e) {
    if (logger) {
      logger.error("PISTON EXCEPTION:", e.message);
      logger.error("Payload sent:", JSON.stringify(payload));
    }
    return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: `API Exception: ${e.message}` };
  }
}
export {
  config,
  handler
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29kZS1ydW5uZXIuc3RlcC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgU3RlcENvbmZpZyB9IGZyb20gJ21vdGlhJztcclxuaW1wb3J0IHsgY29ubmVjdERCIH0gZnJvbSAnLi4vc3JjL2RiJztcclxuaW1wb3J0IHsgTWF0Y2hNb2RlbCB9IGZyb20gJy4uL3NyYy9tb2RlbHMvTWF0Y2gnO1xyXG5pbXBvcnQgeyBSdW5uZXJSZXF1ZXN0LCBSdW5uZXJSZXN1bHQgfSBmcm9tICcuLi9zcmMvdHlwZXMnO1xyXG5pbXBvcnQgUXVlc3Rpb24gZnJvbSAnLi4vc3JjL21vZGVscy9RdWVzdGlvbic7XHJcbmltcG9ydCB7IGxhbmd1YWdlcyB9IGZyb20gJy4uL3NyYy91dGlscy9sYW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IFN0ZXBDb25maWcgPSB7XHJcbiAgbmFtZTogJ0NvZGVSdW5uZXInLFxyXG4gIHR5cGU6ICdldmVudCcsXHJcbiAgc3Vic2NyaWJlczogWydydW4uY29kZSddLFxyXG4gIGVtaXRzOiBbJ2NvZGUucHJvY2Vzc2VkJ10sXHJcbiAgZmxvd3M6IFsnQ29kZUR1ZWxGbG93J11cclxufTtcclxuXHJcbmVudW0gVmVyZGljdCB7XHJcbiAgQUNDRVBURUQgPSBcIkFjY2VwdGVkXCIsXHJcbiAgV1JPTkdfQU5TV0VSID0gXCJXcm9uZyBBbnN3ZXJcIixcclxuICBDT01QSUxFX0VSUk9SID0gXCJDb21waWxhdGlvbiBFcnJvclwiLFxyXG4gIFJVTlRJTUVfRVJST1IgPSBcIlJ1bnRpbWUgRXJyb3JcIixcclxufVxyXG5cclxuY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBhbnksIHsgZW1pdCwgbG9nZ2VyIH06IGFueSkgPT4ge1xyXG4gIGF3YWl0IGNvbm5lY3REQigpO1xyXG5cclxuICBjb25zdCBkYXRhID0gKGV2ZW50LmRhdGEgfHwgZXZlbnQpIGFzIFJ1bm5lclJlcXVlc3QgJiB7IGxhbmd1YWdlPzogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nIH07XHJcbiAgY29uc3QgeyBtYXRjaElkLCBwbGF5ZXJJZCwgY29kZSwgYWN0aW9uLCBsYW5ndWFnZSA9IFwicHl0aG9uXCIsIHZlcnNpb24gPSBcIjMuMTAuMFwiIH0gPSBkYXRhO1xyXG5cclxuICBsZXQgb3ZlcmFsbFN1Y2Nlc3MgPSB0cnVlO1xyXG4gIGxldCBlcnJvck1zZyA9IHVuZGVmaW5lZDtcclxuICBcclxuICBjb25zdCB0ZXN0UmVzdWx0czogYW55W10gPSBbXTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgTWF0Y2hNb2RlbC5maW5kT25lKHsgbWF0Y2hJZCB9KTtcclxuICAgIGlmICghbWF0Y2gpIHRocm93IG5ldyBFcnJvcihcIk1hdGNoIG5vdCBmb3VuZFwiKTtcclxuXHJcbiAgICBjb25zdCBxdWVzdGlvbiA9IGF3YWl0IFF1ZXN0aW9uLmZpbmRCeUlkKG1hdGNoLnByb2JsZW1JZCk7XHJcbiAgICBpZiAoIXF1ZXN0aW9uKSB0aHJvdyBuZXcgRXJyb3IoXCJRdWVzdGlvbiBub3QgZm91bmRcIik7XHJcblxyXG4gICAgbGV0IGNhc2VzVG9SdW4gPSBxdWVzdGlvbi50ZXN0X2Nhc2VzO1xyXG4gICAgXHJcbiAgICBpZiAoYWN0aW9uID09PSAnUlVOX1RFU1RTJykge1xyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5jZWlsKGNhc2VzVG9SdW4ubGVuZ3RoICogMC4yNSkgfHwgMTsgXHJcbiAgICAgICAgY2FzZXNUb1J1biA9IGNhc2VzVG9SdW4uc2xpY2UoMCwgbGltaXQpO1xyXG4gICAgICAgIGxvZ2dlci5pbmZvKGBKVURHRTogUnVubmluZyBzdWJzZXQgKCR7bGltaXR9LyR7cXVlc3Rpb24udGVzdF9jYXNlcy5sZW5ndGh9KSBmb3IgJHtwbGF5ZXJJZH1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9nZ2VyLmluZm8oYEpVREdFOiBSdW5uaW5nIEFMTCAoJHtjYXNlc1RvUnVuLmxlbmd0aH0pIGZvciAke3BsYXllcklkfSBzdWJtaXNzaW9uYCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXNlc1RvUnVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgdGVzdENhc2UgPSBjYXNlc1RvUnVuW2ldO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBhc3MgbG9nZ2VyIHRvIHJ1blBpc3RvbiBzbyB3ZSBjYW4gc2VlIGxvZ3MgaW4gdGhlIFdvcmtiZW5jaFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1blBpc3Rvbihjb2RlLCBsYW5ndWFnZSwgdmVyc2lvbiwgdGVzdENhc2UsIGxvZ2dlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhc2VSZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIGlkOiBpICsgMSxcclxuICAgICAgICAgICAgaW5wdXQ6IHRlc3RDYXNlLmlucHV0LFxyXG4gICAgICAgICAgICBleHBlY3RlZDogdGVzdENhc2Uub3V0cHV0LFxyXG4gICAgICAgICAgICBhY3R1YWw6IHJlc3VsdC5vdXRwdXQgfHwgcmVzdWx0LnN0ZGVycixcclxuICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxyXG4gICAgICAgICAgICBwYXNzZWQ6IHJlc3VsdC5zdGF0dXMgPT09IFZlcmRpY3QuQUNDRVBURURcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRlc3RSZXN1bHRzLnB1c2goY2FzZVJlc3VsdCk7XHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSBWZXJkaWN0LkFDQ0VQVEVEKSB7XHJcbiAgICAgICAgICAgIG92ZXJhbGxTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBWZXJkaWN0LkNPTVBJTEVfRVJST1IpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTXNnID0gcmVzdWx0LnN0ZGVycjtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGkgPCBjYXNlc1RvUnVuLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMzAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICBvdmVyYWxsU3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgZXJyb3JNc2cgPSBgU3lzdGVtIEVycm9yOiAke2Vyci5tZXNzYWdlfWA7XHJcbiAgICBsb2dnZXIuZXJyb3IoZXJyb3JNc2cpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0RGF0YSA9IHtcclxuICAgIG1hdGNoSWQsXHJcbiAgICBwbGF5ZXJJZCxcclxuICAgIGFjdGlvbjogYWN0aW9uIGFzICdSVU5fVEVTVFMnIHwgJ1NVQk1JVF9TT0xVVElPTicsXHJcbiAgICBzdWNjZXNzOiBvdmVyYWxsU3VjY2VzcyAmJiAhZXJyb3JNc2csXHJcbiAgICBlcnJvcjogZXJyb3JNc2csXHJcbiAgICByZXN1bHRzOiB0ZXN0UmVzdWx0c1xyXG4gIH07XHJcblxyXG4gIGxvZ2dlci5pbmZvKGBWRVJESUNUIGZvciAke3BsYXllcklkfTogJHtyZXN1bHREYXRhLnN1Y2Nlc3MgPyBcIlBBU1NFRFwiIDogXCJGQUlMRURcIn1gKTtcclxuICBhd2FpdCBlbWl0KHsgdG9waWM6ICdjb2RlLnByb2Nlc3NlZCcsIGRhdGE6IHJlc3VsdERhdGEgfSk7XHJcbn07XHJcblxyXG4vLyBcdUQ4M0RcdURDNDcgVVBEQVRFRDogQWRkZWQgbG9nZ2VyIHBhcmFtZXRlciBhbmQgZGV0YWlsZWQgZXJyb3IgbG9nZ2luZ1xyXG5hc3luYyBmdW5jdGlvbiBydW5QaXN0b24oY29kZTogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcsIHRlc3RDYXNlOiBhbnksIGxvZ2dlcj86IGFueSkge1xyXG4gICAgY29uc3QgcGlzdG9uTGFuZyA9IGxhbmd1YWdlcy5maW5kKChsYW5nKT0+bGFuZy5waXN0b25MYW5nID09IGxhbmd1YWdlKT8ucGlzdG9uTGFuZ1xyXG4gICAgY29uc3QgdmVyID0gbGFuZ3VhZ2VzLmZpbmQoKGxhbmcpPT5sYW5nLnBpc3RvbkxhbmcgPT0gbGFuZ3VhZ2UpPy52ZXJzaW9uO1xyXG5cclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgbGFuZ3VhZ2U6IHBpc3RvbkxhbmcsXHJcbiAgICAgICAgdmVyc2lvbjogdmVyIHx8IFwiKlwiLCAvLyBQaXN0b24gb2Z0ZW4gZmFpbHMgaWYgdmVyc2lvbiBkb2Vzbid0IG1hdGNoIGV4YWN0bHksICcqJyBpcyBzYWZlclxyXG4gICAgICAgIGZpbGVzOiBbeyBuYW1lOiAnbWFpbicsIGNvbnRlbnQ6IGNvZGUgfV0sXHJcbiAgICAgICAgc3RkaW46IHRlc3RDYXNlLmlucHV0LFxyXG4gICAgICAgIHJ1bl90aW1lb3V0OiAzMDAwLFxyXG4gICAgICAgIGNvbXBpbGVfdGltZW91dDogMTAwMDAsXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vZW1rYy5vcmcvYXBpL3YyL3Bpc3Rvbi9leGVjdXRlXCIsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gMS4gQ2hlY2sgaWYgSFRUUCBSZXF1ZXN0IGZhaWxlZCAoZS5nLiA0MDAgQmFkIFJlcXVlc3QsIDUwMCBTZXJ2ZXIgRXJyb3IpXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgICAgICBpZiAobG9nZ2VyKSBsb2dnZXIuZXJyb3IoYFBJU1RPTiBIVFRQIEVSUk9SICR7cmVzcG9uc2Uuc3RhdHVzfTogJHt0ZXh0fWApO1xyXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IFZlcmRpY3QuUlVOVElNRV9FUlJPUiwgc3RkZXJyOiBgQVBJIEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3RleHR9YCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGF0YTogYW55ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgICAvLyAyLiBDaGVjayBmb3IgUGlzdG9uLXNwZWNpZmljIGVycm9yIHN0cnVjdHVyZVxyXG4gICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgIGlmIChsb2dnZXIpIGxvZ2dlci5lcnJvcihcIlBJU1RPTiBFUlJPUiBNRVNTQUdFOlwiLCBkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBWZXJkaWN0LlJVTlRJTUVfRVJST1IsIHN0ZGVycjogZGF0YS5tZXNzYWdlIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5jb21waWxlICYmIGRhdGEuY29tcGlsZS5jb2RlICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5DT01QSUxFX0VSUk9SLCBzdGRlcnI6IGRhdGEuY29tcGlsZS5zdGRlcnIgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEucnVuICYmIGRhdGEucnVuLmNvZGUgIT09IDApIHtcclxuICAgICAgICAgICAgLy8gU2lnbmFsIGNvZGUgaXMga2lsbGVkIG9yIGV4aXRlZCB3aXRoIGVycm9yXHJcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5SVU5USU1FX0VSUk9SLCBzdGRlcnI6IGRhdGEucnVuLnN0ZGVyciB8fCBgRXhpdGVkIHdpdGggY29kZSAke2RhdGEucnVuLmNvZGV9YCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWN0dWFsID0gKGRhdGEucnVuLnN0ZG91dCB8fCBcIlwiKS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSB0ZXN0Q2FzZS5vdXRwdXQubWFwKChvOiBzdHJpbmcpID0+IG8udHJpbSgpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpc0NvcnJlY3QgPSBleHBlY3RlZC5pbmNsdWRlcyhhY3R1YWwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBzdGF0dXM6IGlzQ29ycmVjdCA/IFZlcmRpY3QuQUNDRVBURUQgOiBWZXJkaWN0LldST05HX0FOU1dFUiwgXHJcbiAgICAgICAgICAgIG91dHB1dDogYWN0dWFsIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgaWYgKGxvZ2dlcikge1xyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJQSVNUT04gRVhDRVBUSU9OOlwiLCBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAvLyBMb2cgcGF5bG9hZCB0byBzZWUgd2hhdCBicm9rZSBpdFxyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJQYXlsb2FkIHNlbnQ6XCIsIEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBWZXJkaWN0LlJVTlRJTUVfRVJST1IsIHN0ZGVycjogYEFQSSBFeGNlcHRpb246ICR7ZS5tZXNzYWdlfWAgfTtcclxuICAgIH1cclxufSJdLAogICJtYXBw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
