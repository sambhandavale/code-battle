import { connectDB } from "../src/db.js";
import { MatchModel } from "../src/models/Match.js";
import Question from "../src/models/Question.js";
import { languages } from "../src/utils/lang.js";
const config = {
  name: "CodeRunner",
  type: "event",
  subscribes: ["run.code"],
  emits: ["code.processed"],
  flows: ["CodeDuelFlow"]
};
var Verdict = /* @__PURE__ */ ((Verdict2) => {
  Verdict2["ACCEPTED"] = "Accepted";
  Verdict2["WRONG_ANSWER"] = "Wrong Answer";
  Verdict2["COMPILE_ERROR"] = "Compilation Error";
  Verdict2["RUNTIME_ERROR"] = "Runtime Error";
  return Verdict2;
})(Verdict || {});
const handler = async (event, { emit, logger }) => {
  await connectDB();
  const data = event.data || event;
  const { matchId, playerId, code, action, language = "python", version = "3.10.0" } = data;
  let overallSuccess = true;
  let errorMsg = void 0;
  const testResults = [];
  try {
    const match = await MatchModel.findOne({ matchId });
    if (!match) throw new Error("Match not found");
    const question = await Question.findById(match.problemId);
    if (!question) throw new Error("Question not found");
    let casesToRun = question.test_cases;
    if (action === "RUN_TESTS") {
      const limit = Math.ceil(casesToRun.length * 0.25) || 1;
      casesToRun = casesToRun.slice(0, limit);
      logger.info(`JUDGE: Running subset (${limit}/${question.test_cases.length}) for ${playerId}`);
    } else {
      logger.info(`JUDGE: Running ALL (${casesToRun.length}) for ${playerId} submission`);
    }
    for (let i = 0; i < casesToRun.length; i++) {
      const testCase = casesToRun[i];
      const result = await runPiston(code, language, version, testCase, logger);
      const caseResult = {
        id: i + 1,
        input: testCase.input,
        expected: testCase.output,
        actual: result.output || result.stderr,
        status: result.status,
        passed: result.status === "Accepted" /* ACCEPTED */
      };
      testResults.push(caseResult);
      if (result.status !== "Accepted" /* ACCEPTED */) {
        overallSuccess = false;
        if (result.status === "Compilation Error" /* COMPILE_ERROR */) {
          errorMsg = result.stderr;
          break;
        }
      }
    }
  } catch (err) {
    overallSuccess = false;
    errorMsg = `System Error: ${err.message}`;
    logger.error(errorMsg);
  }
  const resultData = {
    matchId,
    playerId,
    action,
    success: overallSuccess && !errorMsg,
    error: errorMsg,
    results: testResults
  };
  logger.info(`VERDICT for ${playerId}: ${resultData.success ? "PASSED" : "FAILED"}`);
  await emit({ topic: "code.processed", data: resultData });
};
async function runPiston(code, language, version, testCase, logger) {
  const pistonLang = languages.find((lang) => lang.pistonLang == language)?.pistonLang;
  const ver = languages.find((lang) => lang.pistonLang == language)?.version;
  const payload = {
    language: pistonLang,
    version: ver || "*",
    // Piston often fails if version doesn't match exactly, '*' is safer
    files: [{ name: "main", content: code }],
    stdin: testCase.input,
    run_timeout: 3e3,
    compile_timeout: 1e4
  };
  try {
    const response = await fetch("https://emkc.org/api/v2/piston/execute", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
    if (!response.ok) {
      const text = await response.text();
      if (logger) logger.error(`PISTON HTTP ERROR ${response.status}: ${text}`);
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: `API HTTP ${response.status}: ${text}` };
    }
    const data = await response.json();
    if (data.message) {
      if (logger) logger.error("PISTON ERROR MESSAGE:", data.message);
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: data.message };
    }
    if (data.compile && data.compile.code !== 0) {
      return { status: "Compilation Error" /* COMPILE_ERROR */, stderr: data.compile.stderr };
    }
    if (data.run && data.run.code !== 0) {
      return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: data.run.stderr || `Exited with code ${data.run.code}` };
    }
    const actual = (data.run.stdout || "").trim();
    const expected = testCase.output.map((o) => o.trim());
    const isCorrect = expected.includes(actual);
    return {
      status: isCorrect ? "Accepted" /* ACCEPTED */ : "Wrong Answer" /* WRONG_ANSWER */,
      output: actual
    };
  } catch (e) {
    if (logger) {
      logger.error("PISTON EXCEPTION:", e.message);
      logger.error("Payload sent:", JSON.stringify(payload));
    }
    return { status: "Runtime Error" /* RUNTIME_ERROR */, stderr: `API Exception: ${e.message}` };
  }
}
export {
  config,
  handler
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3RlcHMvY29kZS1ydW5uZXIuc3RlcC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgU3RlcENvbmZpZyB9IGZyb20gJ21vdGlhJztcclxuaW1wb3J0IHsgY29ubmVjdERCIH0gZnJvbSAnLi4vc3JjL2RiJztcclxuaW1wb3J0IHsgTWF0Y2hNb2RlbCB9IGZyb20gJy4uL3NyYy9tb2RlbHMvTWF0Y2gnO1xyXG5pbXBvcnQgeyBSdW5uZXJSZXF1ZXN0LCBSdW5uZXJSZXN1bHQgfSBmcm9tICcuLi9zcmMvdHlwZXMnO1xyXG5pbXBvcnQgUXVlc3Rpb24gZnJvbSAnLi4vc3JjL21vZGVscy9RdWVzdGlvbic7XHJcbmltcG9ydCB7IGxhbmd1YWdlcyB9IGZyb20gJy4uL3NyYy91dGlscy9sYW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IFN0ZXBDb25maWcgPSB7XHJcbiAgbmFtZTogJ0NvZGVSdW5uZXInLFxyXG4gIHR5cGU6ICdldmVudCcsXHJcbiAgc3Vic2NyaWJlczogWydydW4uY29kZSddLFxyXG4gIGVtaXRzOiBbJ2NvZGUucHJvY2Vzc2VkJ10sXHJcbiAgZmxvd3M6IFsnQ29kZUR1ZWxGbG93J11cclxufTtcclxuXHJcbmVudW0gVmVyZGljdCB7XHJcbiAgQUNDRVBURUQgPSBcIkFjY2VwdGVkXCIsXHJcbiAgV1JPTkdfQU5TV0VSID0gXCJXcm9uZyBBbnN3ZXJcIixcclxuICBDT01QSUxFX0VSUk9SID0gXCJDb21waWxhdGlvbiBFcnJvclwiLFxyXG4gIFJVTlRJTUVfRVJST1IgPSBcIlJ1bnRpbWUgRXJyb3JcIixcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZXIgPSBhc3luYyAoZXZlbnQ6IGFueSwgeyBlbWl0LCBsb2dnZXIgfTogYW55KSA9PiB7XHJcbiAgYXdhaXQgY29ubmVjdERCKCk7XHJcblxyXG4gIGNvbnN0IGRhdGEgPSAoZXZlbnQuZGF0YSB8fCBldmVudCkgYXMgUnVubmVyUmVxdWVzdCAmIHsgbGFuZ3VhZ2U/OiBzdHJpbmcsIHZlcnNpb24/OiBzdHJpbmcgfTtcclxuICBjb25zdCB7IG1hdGNoSWQsIHBsYXllcklkLCBjb2RlLCBhY3Rpb24sIGxhbmd1YWdlID0gXCJweXRob25cIiwgdmVyc2lvbiA9IFwiMy4xMC4wXCIgfSA9IGRhdGE7XHJcblxyXG4gIGxldCBvdmVyYWxsU3VjY2VzcyA9IHRydWU7XHJcbiAgbGV0IGVycm9yTXNnID0gdW5kZWZpbmVkO1xyXG4gIFxyXG4gIGNvbnN0IHRlc3RSZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBNYXRjaE1vZGVsLmZpbmRPbmUoeyBtYXRjaElkIH0pO1xyXG4gICAgaWYgKCFtYXRjaCkgdGhyb3cgbmV3IEVycm9yKFwiTWF0Y2ggbm90IGZvdW5kXCIpO1xyXG5cclxuICAgIGNvbnN0IHF1ZXN0aW9uID0gYXdhaXQgUXVlc3Rpb24uZmluZEJ5SWQobWF0Y2gucHJvYmxlbUlkKTtcclxuICAgIGlmICghcXVlc3Rpb24pIHRocm93IG5ldyBFcnJvcihcIlF1ZXN0aW9uIG5vdCBmb3VuZFwiKTtcclxuXHJcbiAgICBsZXQgY2FzZXNUb1J1biA9IHF1ZXN0aW9uLnRlc3RfY2FzZXM7XHJcbiAgICBcclxuICAgIGlmIChhY3Rpb24gPT09ICdSVU5fVEVTVFMnKSB7XHJcbiAgICAgICAgY29uc3QgbGltaXQgPSBNYXRoLmNlaWwoY2FzZXNUb1J1bi5sZW5ndGggKiAwLjI1KSB8fCAxOyBcclxuICAgICAgICBjYXNlc1RvUnVuID0gY2FzZXNUb1J1bi5zbGljZSgwLCBsaW1pdCk7XHJcbiAgICAgICAgbG9nZ2VyLmluZm8oYEpVREdFOiBSdW5uaW5nIHN1YnNldCAoJHtsaW1pdH0vJHtxdWVzdGlvbi50ZXN0X2Nhc2VzLmxlbmd0aH0pIGZvciAke3BsYXllcklkfWApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsb2dnZXIuaW5mbyhgSlVER0U6IFJ1bm5pbmcgQUxMICgke2Nhc2VzVG9SdW4ubGVuZ3RofSkgZm9yICR7cGxheWVySWR9IHN1Ym1pc3Npb25gKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhc2VzVG9SdW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0ZXN0Q2FzZSA9IGNhc2VzVG9SdW5baV07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUGFzcyBsb2dnZXIgdG8gcnVuUGlzdG9uIHNvIHdlIGNhbiBzZWUgbG9ncyBpbiB0aGUgV29ya2JlbmNoXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVuUGlzdG9uKGNvZGUsIGxhbmd1YWdlLCB2ZXJzaW9uLCB0ZXN0Q2FzZSwgbG9nZ2VyKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FzZVJlc3VsdCA9IHtcclxuICAgICAgICAgICAgaWQ6IGkgKyAxLFxyXG4gICAgICAgICAgICBpbnB1dDogdGVzdENhc2UuaW5wdXQsXHJcbiAgICAgICAgICAgIGV4cGVjdGVkOiB0ZXN0Q2FzZS5vdXRwdXQsXHJcbiAgICAgICAgICAgIGFjdHVhbDogcmVzdWx0Lm91dHB1dCB8fCByZXN1bHQuc3RkZXJyLFxyXG4gICAgICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXHJcbiAgICAgICAgICAgIHBhc3NlZDogcmVzdWx0LnN0YXR1cyA9PT0gVmVyZGljdC5BQ0NFUFRFRFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGVzdFJlc3VsdHMucHVzaChjYXNlUmVzdWx0KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09IFZlcmRpY3QuQUNDRVBURUQpIHtcclxuICAgICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFZlcmRpY3QuQ09NUElMRV9FUlJPUikge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JNc2cgPSByZXN1bHQuc3RkZXJyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgb3ZlcmFsbFN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgIGVycm9yTXNnID0gYFN5c3RlbSBFcnJvcjogJHtlcnIubWVzc2FnZX1gO1xyXG4gICAgbG9nZ2VyLmVycm9yKGVycm9yTXNnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc3VsdERhdGEgPSB7XHJcbiAgICBtYXRjaElkLFxyXG4gICAgcGxheWVySWQsXHJcbiAgICBhY3Rpb246IGFjdGlvbiBhcyAnUlVOX1RFU1RTJyB8ICdTVUJNSVRfU09MVVRJT04nLFxyXG4gICAgc3VjY2Vzczogb3ZlcmFsbFN1Y2Nlc3MgJiYgIWVycm9yTXNnLFxyXG4gICAgZXJyb3I6IGVycm9yTXNnLFxyXG4gICAgcmVzdWx0czogdGVzdFJlc3VsdHNcclxuICB9O1xyXG5cclxuICBsb2dnZXIuaW5mbyhgVkVSRElDVCBmb3IgJHtwbGF5ZXJJZH06ICR7cmVzdWx0RGF0YS5zdWNjZXNzID8gXCJQQVNTRURcIiA6IFwiRkFJTEVEXCJ9YCk7XHJcbiAgYXdhaXQgZW1pdCh7IHRvcGljOiAnY29kZS5wcm9jZXNzZWQnLCBkYXRhOiByZXN1bHREYXRhIH0pO1xyXG59O1xyXG5cclxuLy8gXHVEODNEXHVEQzQ3IFVQREFURUQ6IEFkZGVkIGxvZ2dlciBwYXJhbWV0ZXIgYW5kIGRldGFpbGVkIGVycm9yIGxvZ2dpbmdcclxuYXN5bmMgZnVuY3Rpb24gcnVuUGlzdG9uKGNvZGU6IHN0cmluZywgbGFuZ3VhZ2U6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nLCB0ZXN0Q2FzZTogYW55LCBsb2dnZXI/OiBhbnkpIHtcclxuICAgIGNvbnN0IHBpc3RvbkxhbmcgPSBsYW5ndWFnZXMuZmluZCgobGFuZyk9PmxhbmcucGlzdG9uTGFuZyA9PSBsYW5ndWFnZSk/LnBpc3RvbkxhbmdcclxuICAgIGNvbnN0IHZlciA9IGxhbmd1YWdlcy5maW5kKChsYW5nKT0+bGFuZy5waXN0b25MYW5nID09IGxhbmd1YWdlKT8udmVyc2lvbjtcclxuXHJcbiAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICAgIGxhbmd1YWdlOiBwaXN0b25MYW5nLFxyXG4gICAgICAgIHZlcnNpb246IHZlciB8fCBcIipcIiwgLy8gUGlzdG9uIG9mdGVuIGZhaWxzIGlmIHZlcnNpb24gZG9lc24ndCBtYXRjaCBleGFjdGx5LCAnKicgaXMgc2FmZXJcclxuICAgICAgICBmaWxlczogW3sgbmFtZTogJ21haW4nLCBjb250ZW50OiBjb2RlIH1dLFxyXG4gICAgICAgIHN0ZGluOiB0ZXN0Q2FzZS5pbnB1dCxcclxuICAgICAgICBydW5fdGltZW91dDogMzAwMCxcclxuICAgICAgICBjb21waWxlX3RpbWVvdXQ6IDEwMDAwLFxyXG4gICAgfTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2Vta2Mub3JnL2FwaS92Mi9waXN0b24vZXhlY3V0ZVwiLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIDEuIENoZWNrIGlmIEhUVFAgUmVxdWVzdCBmYWlsZWQgKGUuZy4gNDAwIEJhZCBSZXF1ZXN0LCA1MDAgU2VydmVyIEVycm9yKVxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgaWYgKGxvZ2dlcikgbG9nZ2VyLmVycm9yKGBQSVNUT04gSFRUUCBFUlJPUiAke3Jlc3BvbnNlLnN0YXR1c306ICR7dGV4dH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBWZXJkaWN0LlJVTlRJTUVfRVJST1IsIHN0ZGVycjogYEFQSSBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHt0ZXh0fWAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgLy8gMi4gQ2hlY2sgZm9yIFBpc3Rvbi1zcGVjaWZpYyBlcnJvciBzdHJ1Y3R1cmVcclxuICAgICAgICBpZiAoZGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICBpZiAobG9nZ2VyKSBsb2dnZXIuZXJyb3IoXCJQSVNUT04gRVJST1IgTUVTU0FHRTpcIiwgZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5SVU5USU1FX0VSUk9SLCBzdGRlcnI6IGRhdGEubWVzc2FnZSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuY29tcGlsZSAmJiBkYXRhLmNvbXBpbGUuY29kZSAhPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IFZlcmRpY3QuQ09NUElMRV9FUlJPUiwgc3RkZXJyOiBkYXRhLmNvbXBpbGUuc3RkZXJyIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChkYXRhLnJ1biAmJiBkYXRhLnJ1bi5jb2RlICE9PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIFNpZ25hbCBjb2RlIGlzIGtpbGxlZCBvciBleGl0ZWQgd2l0aCBlcnJvclxyXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IFZlcmRpY3QuUlVOVElNRV9FUlJPUiwgc3RkZXJyOiBkYXRhLnJ1bi5zdGRlcnIgfHwgYEV4aXRlZCB3aXRoIGNvZGUgJHtkYXRhLnJ1bi5jb2RlfWAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IChkYXRhLnJ1bi5zdGRvdXQgfHwgXCJcIikudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkID0gdGVzdENhc2Uub3V0cHV0Lm1hcCgobzogc3RyaW5nKSA9PiBvLnRyaW0oKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gZXhwZWN0ZWQuaW5jbHVkZXMoYWN0dWFsKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geyBcclxuICAgICAgICAgICAgc3RhdHVzOiBpc0NvcnJlY3QgPyBWZXJkaWN0LkFDQ0VQVEVEIDogVmVyZGljdC5XUk9OR19BTlNXRVIsIFxyXG4gICAgICAgICAgICBvdXRwdXQ6IGFjdHVhbCBcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgIGlmIChsb2dnZXIpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiUElTVE9OIEVYQ0VQVElPTjpcIiwgZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgLy8gTG9nIHBheWxvYWQgdG8gc2VlIHdoYXQgYnJva2UgaXRcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiUGF5bG9hZCBzZW50OlwiLCBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IHN0YXR1czogVmVyZGljdC5SVU5USU1FX0VSUk9SLCBzdGRlcnI6IGBBUEkgRXhjZXB0aW9uOiAke2UubWVzc2FnZX1gIH07XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiQUFDQSxTQUFTLGlCQUFpQjtBQUMxQixTQUFTLGtCQUFrQjtBQUUzQixPQUFPLGNBQWM7QUFDckIsU0FBUyxpQkFBaUI7QUFFbkIsTUFBTSxTQUFxQjtBQUFBLEVBQ2hDLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLFlBQVksQ0FBQyxVQUFVO0FBQUEsRUFDdkIsT0FBTyxDQUFDLGdC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UUFBUSxTQUFTLEtBQUssQ0FBQztBQUFBLElBQ3ZDLE9BQU8sU0FBUztBQUFBLElBQ2hCLGFBQWE7QUFBQSxJQUNiLGlCQUFpQjtBQUFBLEVBQ3JCO0FBRUEsTUFBSTtBQUNBLFVBQU0sV0FBVyxNQUFNLE1BQU0sMENBQTBDO0FBQUEsTUFDbkUsUUFBUTtBQUFBLE1BQ1IsU0FBUyxFQUFFLGdCQUFnQixtQkFBbUI7QUFBQSxNQUM5QyxNQUFNLEtBQUssVUFBVSxPQUFPO0FBQUEsSUFDaEMsQ0FBQztBQUdELFFBQUksQ0FBQyxTQUFTLElBQUk7QUFDZCxZQUFNLE9BQU8sTUFBTSxTQUFTLEtBQUs7QUFDakMsVUFBSSxPQUFRLFFBQU8sTUFBTSxxQkFBcUIsU0FBUyxNQUFNLEtBQUssSUFBSSxFQUFFO0FBQ3hFLGFBQU8sRUFBRSxRQUFRLHFDQUF1QixRQUFRLFlBQVksU0FBUyxNQUFNLEtBQUssSUFBSSxHQUFHO0FBQUEsSUFDM0Y7QUFFQSxVQUFNLE9BQVksTUFBTSxTQUFTLEtBQUs7QUFHdEMsUUFBSSxLQUFLLFNBQVM7QUFDYixVQUFJLE9BQVEsUUFBTyxNQUFNLHlCQUF5QixLQUFLLE9BQU87QUFDOUQsYUFBTyxFQUFFLFFBQVEscUNBQXVCLFFBQVEsS0FBSyxRQUFRO0FBQUEsSUFDbEU7QUFFQSxRQUFJLEtBQUssV0FBVyxLQUFLLFFBQVEsU0FBUyxHQUFHO0FBQ3pDLGFBQU8sRUFBRSxRQUFRLHlDQUF1QixRQUFRLEtBQUssUUFBUSxPQUFPO0FBQUEsSUFDeEU7QUFFQSxRQUFJLEtBQUssT0FBTyxLQUFLLElBQUksU0FBUyxHQUFHO0FBRWpDLGFBQU8sRUFBRSxRQUFRLHFDQUF1QixRQUFRLEtBQUssSUFBSSxVQUFVLG9CQUFvQixLQUFLLElBQUksSUFBSSxHQUFHO0FBQUEsSUFDM0c7QUFFQSxVQUFNLFVBQVUsS0FBSyxJQUFJLFVBQVUsSUFBSSxLQUFLO0FBQzVDLFVBQU0sV0FBVyxTQUFTLE9BQU8sSUFBSSxDQUFDLE1BQWMsRUFBRSxLQUFLLENBQUM7QUFFNUQsVUFBTSxZQUFZLFNBQVMsU0FBUyxNQUFNO0FBRTFDLFdBQU87QUFBQSxNQUNILFFBQVEsWUFBWSw0QkFBbUI7QUFBQSxNQUN2QyxRQUFRO0FBQUEsSUFDWjtBQUFBLEVBRUosU0FBUyxHQUFRO0FBQ2IsUUFBSSxRQUFRO0FBQ1IsYUFBTyxNQUFNLHFCQUFxQixFQUFFLE9BQU87QUFFM0MsYUFBTyxNQUFNLGlCQUFpQixLQUFLLFVBQVUsT0FBTyxDQUFDO0FBQUEsSUFDekQ7QUFDQSxXQUFPLEVBQUUsUUFBUSxxQ0FBdUIsUUFBUSxrQkFBa0IsRUFBRSxPQUFPLEdBQUc7QUFBQSxFQUNsRjtBQUNKOyIsCiAgIm5hbWVzIjogWyJWZXJkaWN0Il0KfQo=
